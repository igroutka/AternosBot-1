panels:
  GildedNetheriteBow:
    perm: "default"
    pre-load-commands:
      # Vanilla Item
      - "set-data= bow %hrn_getItemAmount:VANILLA:BOW%"
      # Custom Item
      - "set-data= gilded_netherite_ingot %hrn_getItemAmount:HYRONIC:gilded_netherite_ingot%"
      - "set-data= topaz_ingot %hrn_getItemAmount:HYRONIC:topaz_ingot%"
      - "set-data= ruby_ingot %hrn_getItemAmount:HYRONIC:ruby_ingot%"
      - "set-data= hyronium_ingot %hrn_getItemAmount:HYRONIC:hyronium_ingot%"
    panelType:
      - unmovable
    commands-on-open:
      - "sound= BLOCK_ANVIL_USE 1 1"
    rows: 5
    title: "&f%hrn_getIcon:neg_shift_8%%hrn_getIcon:blacksmith_forging%"
    item:
      "10":
        material: BOW
        name: "&fBow &a%cp-data-bow%&8/&f1"
      "11":
        material: PAPER
        customdata: 600
        name: "&fGilded Netherite Ingot &a%cp-data-gilded_netherite_ingot%&8/&f2"
        duplicate: "12"

      "14":
        material: PAPER
        stack: 64
        customdata: 207
        name: "&fTopaz Ingot &a%cp-data-topaz_ingot%&8/&f64"
      "15":
        material: PAPER
        customdata: 203
        stack: 16
        name: "&fRuby Ingot &a%cp-data-ruby_ingot%&8/&f16"

      "16":
        material: PAPER
        customdata: 205
        stack: 16
        name: "&fHyronium Ingot &a%cp-data-hyronium_ingot%&8/&f16"

      "40":
        material: BOW
        customdata: 1
        name: "#ffa801ɢɪʟᴅᴇᴅ ɴᴇᴛʜᴇʀɪᴛᴇ ʙᴏᴡ"
        lore:
          - ""
          - "&a→ Click to start forging"
          - "&athis item."
          - ""
          - "#d2dae2ꜰᴏʀɢɪɴɢ ᴘʀɪᴄᴇ: &f%hrn_getIcon:gem%30.000"
        commands:
          # Check player's gem, if have enought, action below will run
          - "paywall= 30000"
          # Remove player material for forging item.
          - "console= hyronic remove-blacksmith-materials %player_name% gilded_netherite_bow"
          # Give player the forging item
          - "console= hyronic give-item %player_name% gilded_netherite_bow 1"
          # Play forging sound
          - "sound= UI_TOAST_CHALLENGE_COMPLETE 1 1"
          # Reopen the GUI to update everything. (IMPORTANT)
          - "open= GildedNetheriteBow"
        has0: # Check player inventory empty slot
          value0: "%player_empty_slots%"
          compare0: "0"
          material: BOW
          name: "#ffa801ɢɪʟᴅᴇᴅ ɴᴇᴛʜᴇʀɪᴛᴇ ʙᴏᴡ"
          lore:
            - ""
            - "&f%hrn_getIcon:error%&c You dont have enought"
            - "&cinventory space to start"
            - ""
            - "#d2dae2ꜰᴏʀɢɪɴɢ ᴘʀɪᴄᴇ: &f%hrn_getIcon:gem%30.000"
        has1: # Check Item have enought materials to forging
          value1: "%hrn_hasForgeMaterial:gilded_netherite_bow%"
          compare1: "false"
          material: BOW
          customdata: 1
          name: "#ffa801ɢɪʟᴅᴇᴅ ɴᴇᴛʜᴇʀɪᴛᴇ ʙᴏᴡ"
          lore:
            - ""
            - "&f%hrn_getIcon:error%&c You dont have enought"
            - "&cmaterial to forge this item"
            - ""
            - "&8- &c%cp-data-bow%&8/&a1&f Bow"
            - "&8- &c%cp-data-gilded_netherite_ingot%&8/&a2&f Gilded Netherite Ingots"
            - "&8- &c%cp-data-topaz_ingot%&8/&a64&f Topaz Ingots"
            - "&8- &c%cp-data-ruby_ingot%&8/&a16&f Ruby Ingots"
            - "&8- &c%cp-data-hyronium_ingot%&8/&a16&f Hyronium Ingots"
            - ""
            - "#d2dae2ꜰᴏʀɢɪɴɢ ᴘʀɪᴄᴇ: &f%hrn_getIcon:gem%30.000"

      "44":
        material: PAPER
        customdata: 9999
        name: "&fBack"
        commands:
          - "open= BlackSmithTool"
